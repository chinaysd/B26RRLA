C51 COMPILER V9.59.0.0   SYSTEM                                                            04/23/2019 19:04:06 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE SYSTEM
OBJECT MODULE PLACED IN .\obj\SYSTEM.obj
COMPILER INVOKED BY: E:\MDK\C51\BIN\C51.EXE C\SYSTEM.C OPTIMIZE(2,SPEED) BROWSE INCDIR(.\H;.\lib) DEBUG OBJECTEXTEND PRI
                    -NT(.\lst\SYSTEM.lst) TABS(7) OBJECT(.\obj\SYSTEM.obj)

line level    source

   1          #include "system.h"
   2          
   3          TIMEOUT_PARA TimeOut_Para[2];
   4          
   5          unsigned char TX_DATA;
   6          unsigned int TX1_DATA;
   7          extern unsigned char count_level;
   8          extern unsigned char lock;
   9          unsigned char TestFlag;
  10          /******************************************************************************
  11          *作者:PETER
  12          *日期:190308
  13          *描述:系统函数初始化
  14          *返回:无
  15          *******************************************************************************/
  16          void System_Init(void)
  17          {
  18   1          TimeOutDet_Init();
  19   1          uart_init(Fsys,BaudRate);
  20   1          Uart1_Init(Fsys,BaudRate);
  21   1          GPIO_INIT();
  22   1          Timer0_Init();
  23   1          lock = 1;
  24   1          count_level = 15;
  25   1          TouchKeyInit(); // 触控按键初始化
  26   1          WDTCON |= 0x10;
  27   1          EA = 1;
  28   1      }
  29          
  30          /******************************************************************************
  31          *作者:PETER
  32          *日期:190308
  33          *描述:系统处理函数
  34          *返回:无
  35          *******************************************************************************/
  36          void System_Handle(void)
  37          {
  38   1             WDTCON |= 0x10;
  39   1             #if 1
  40   1             Key_Scanf();
  41   1             if(TimeOutDet_Check(&TimeOut_Para[0]))      
  42   1             {
  43   2                    TimeOut_Record( &TimeOut_Para[0],OnLine_Time);
  44   2                    Uart1_ProtocolSend(0xfa,0xfb,TX_DATA);
  45   2                    Uart2_ProtocolSend(0xfa,0xfb,TX1_DATA);
  46   2             }
  47   1             #else
                    if(SSDAT ==  0X33)
                    {
                            SBUF = 0X01;
                     }
                      #endif
  53   1      }
  54          /******************************************************************************/
C51 COMPILER V9.59.0.0   SYSTEM                                                            04/23/2019 19:04:06 PAGE 2   

  55          
  56          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    113    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     20    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
